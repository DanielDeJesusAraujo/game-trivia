{"ast":null,"code":"import _toConsumableArray from\"/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";// storage token\nexport var tokenKey='token';export var saveToken=function saveToken(token){localStorage.setItem(tokenKey,token);};export var getToken=function getToken(){return localStorage.getItem(tokenKey);};// storage ranking\nvar STORAGE_KEY='ranking';var readRankingList=function readRankingList(){if(!JSON.parse(localStorage.getItem(STORAGE_KEY))){localStorage.setItem(STORAGE_KEY,JSON.stringify([]));}var rankingList=JSON.parse(localStorage.getItem(STORAGE_KEY));var lastScore=-1;return rankingList.sort(function(a,b){return a.score<b.score?1:lastScore;});};var saveRanking=function saveRanking(rank){return localStorage.setItem(STORAGE_KEY,JSON.stringify(rank));};export var getRankingList=function getRankingList(){return readRankingList();};export var addRanking=function addRanking(ranking){var rankingList=readRankingList();saveRanking([].concat(_toConsumableArray(rankingList),[ranking]));};export var removeRanking=function removeRanking(name){var rankingList=readRankingList();saveRanking(rankingList.filter(function(ranking){return ranking.name!==name;}));};","map":{"version":3,"names":["tokenKey","saveToken","token","localStorage","setItem","getToken","getItem","STORAGE_KEY","readRankingList","JSON","parse","stringify","rankingList","lastScore","sort","a","b","score","saveRanking","rank","getRankingList","addRanking","ranking","removeRanking","name","filter"],"sources":["/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/src/services/storage.js"],"sourcesContent":["// storage token\nexport const tokenKey = 'token';\nexport const saveToken = (token) => {\n  localStorage.setItem(tokenKey, token);\n};\nexport const getToken = () => localStorage.getItem(tokenKey);\n\n// storage ranking\nconst STORAGE_KEY = 'ranking';\n\nconst readRankingList = () => {\n  if (!JSON.parse(localStorage.getItem(STORAGE_KEY))) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify([]));\n  }\n  const rankingList = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  const lastScore = -1;\n  return rankingList.sort((a, b) => (a.score < b.score ? 1 : lastScore));\n};\n\nconst saveRanking = (rank) => localStorage.setItem(STORAGE_KEY, JSON.stringify(rank));\n\nexport const getRankingList = () => readRankingList();\n\nexport const addRanking = (ranking) => {\n  const rankingList = readRankingList();\n  saveRanking([...rankingList, ranking]);\n};\n\nexport const removeRanking = (name) => {\n  const rankingList = readRankingList();\n  saveRanking(rankingList\n    .filter((ranking) => ranking.name !== name));\n};\n"],"mappings":"gJAAA;AACA,MAAO,IAAMA,SAAQ,CAAG,OAAjB,CACP,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,CAACC,KAAD,CAAW,CAClCC,YAAY,CAACC,OAAb,CAAqBJ,QAArB,CAA+BE,KAA/B,EACD,CAFM,CAGP,MAAO,IAAMG,SAAQ,CAAG,QAAXA,SAAW,SAAMF,aAAY,CAACG,OAAb,CAAqBN,QAArB,CAAN,EAAjB,CAEP;AACA,GAAMO,YAAW,CAAG,SAApB,CAEA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,EAAM,CAC5B,GAAI,CAACC,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACG,OAAb,CAAqBC,WAArB,CAAX,CAAL,CAAoD,CAClDJ,YAAY,CAACC,OAAb,CAAqBG,WAArB,CAAkCE,IAAI,CAACE,SAAL,CAAe,EAAf,CAAlC,EACD,CACD,GAAMC,YAAW,CAAGH,IAAI,CAACC,KAAL,CAAWP,YAAY,CAACG,OAAb,CAAqBC,WAArB,CAAX,CAApB,CACA,GAAMM,UAAS,CAAG,CAAC,CAAnB,CACA,MAAOD,YAAW,CAACE,IAAZ,CAAiB,SAACC,CAAD,CAAIC,CAAJ,QAAWD,EAAC,CAACE,KAAF,CAAUD,CAAC,CAACC,KAAZ,CAAoB,CAApB,CAAwBJ,SAAnC,EAAjB,CAAP,CACD,CAPD,CASA,GAAMK,YAAW,CAAG,QAAdA,YAAc,CAACC,IAAD,QAAUhB,aAAY,CAACC,OAAb,CAAqBG,WAArB,CAAkCE,IAAI,CAACE,SAAL,CAAeQ,IAAf,CAAlC,CAAV,EAApB,CAEA,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAiB,SAAMZ,gBAAe,EAArB,EAAvB,CAEP,MAAO,IAAMa,WAAU,CAAG,QAAbA,WAAa,CAACC,OAAD,CAAa,CACrC,GAAMV,YAAW,CAAGJ,eAAe,EAAnC,CACAU,WAAW,8BAAKN,WAAL,GAAkBU,OAAlB,GAAX,CACD,CAHM,CAKP,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAU,CACrC,GAAMZ,YAAW,CAAGJ,eAAe,EAAnC,CACAU,WAAW,CAACN,WAAW,CACpBa,MADS,CACF,SAACH,OAAD,QAAaA,QAAO,CAACE,IAAR,GAAiBA,IAA9B,EADE,CAAD,CAAX,CAED,CAJM"},"metadata":{},"sourceType":"module"}