{"ast":null,"code":"import _classCallCheck from\"/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{connect}from'react-redux';import Header from'../components/Header';import{clearScore}from'../redux/actions';import MainFeedback from'../styles/feedbackStyles/MainFeedback';import FooterFeedback from'../styles/feedbackStyles/FooterFeedback';import LogoStyle from'../styles/LogoStyle';import AvatarStyle from'../styles/feedbackStyles/Avatar';import ContainerBox from'../styles/feedbackStyles/ContainerBox';import ButtonStyle from'../styles/ButtonStyle';import ContainerButton from'../styles/feedbackStyles/ContainerButton';import{addRanking}from'../services/storage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Feedback=/*#__PURE__*/function(_Component){_inherits(Feedback,_Component);var _super=_createSuper(Feedback);function Feedback(){var _this;_classCallCheck(this,Feedback);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={name:'',score:0,avatar:''};_this.handleClick=function(_ref){var name=_ref.target.name;addRanking(_this.state);var _this$props=_this.props,history=_this$props.history,dispatch=_this$props.dispatch;history.push(name);dispatch(clearScore());};return _this;}_createClass(Feedback,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props2=this.props,avatar=_this$props2.avatar,name=_this$props2.name,score=_this$props2.score;var avatarImg=\"https://www.gravatar.com/avatar/\".concat(avatar);this.setState({name:name,score:score,avatar:avatarImg});}},{key:\"render\",value:function render(){var _this$props3=this.props,assertions=_this$props3.assertions,score=_this$props3.score,history=_this$props3.history;var avatar=this.state.avatar;var THREE=3;return/*#__PURE__*/_jsxs(MainFeedback,{\"data-testid\":\"feedback-text\",children:[/*#__PURE__*/_jsx(Header,{history:history}),/*#__PURE__*/_jsx(LogoStyle,{className:\"logo-feedback\"}),/*#__PURE__*/_jsx(AvatarStyle,{src:avatar,alt:\"avatar\"}),/*#__PURE__*/_jsxs(ContainerBox,{children:[/*#__PURE__*/_jsx(\"h2\",{\"data-testid\":\"feedback-text\",className:assertions>=THREE?'green':'red',children:assertions>=THREE?'Well Done!':'Could be better...'}),/*#__PURE__*/_jsx(\"strong\",{\"data-testid\":\"feedback-total-question\",children:assertions}),/*#__PURE__*/_jsx(\"span\",{\"data-testid\":\"feedback-total-score\",children:score})]}),/*#__PURE__*/_jsxs(ContainerButton,{children:[/*#__PURE__*/_jsx(ButtonStyle,{className:\"btn-ranking\",type:\"button\",onClick:this.handleClick,\"data-testid\":\"btn-ranking\",name:\"/ranking\",children:\"Ranking\"}),/*#__PURE__*/_jsx(ButtonStyle,{type:\"button\",onClick:this.handleClick,\"data-testid\":\"btn-play-again\",name:\"/\",children:\"Play Again\"})]}),/*#__PURE__*/_jsx(FooterFeedback,{})]});}}]);return Feedback;}(Component);var mapStateToProps=function mapStateToProps(state){return{assertions:state.player.assertions,score:state.player.score,avatar:state.player.gravatarEmail,name:state.player.name};};export default connect(mapStateToProps)(Feedback);","map":{"version":3,"names":["React","Component","connect","Header","clearScore","MainFeedback","FooterFeedback","LogoStyle","AvatarStyle","ContainerBox","ButtonStyle","ContainerButton","addRanking","Feedback","state","name","score","avatar","handleClick","target","props","history","dispatch","push","avatarImg","setState","assertions","THREE","mapStateToProps","player","gravatarEmail"],"sources":["/home/daniel/Documentos/TRYBE-PROJECTS/game-trivia/src/pages/Feedback.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport Header from '../components/Header';\nimport { clearScore } from '../redux/actions';\nimport MainFeedback from '../styles/feedbackStyles/MainFeedback';\nimport FooterFeedback from '../styles/feedbackStyles/FooterFeedback';\nimport LogoStyle from '../styles/LogoStyle';\nimport AvatarStyle from '../styles/feedbackStyles/Avatar';\nimport ContainerBox from '../styles/feedbackStyles/ContainerBox';\nimport ButtonStyle from '../styles/ButtonStyle';\nimport ContainerButton from '../styles/feedbackStyles/ContainerButton';\nimport { addRanking } from '../services/storage';\n\nclass Feedback extends Component {\n  state = {\n    name: '',\n    score: 0,\n    avatar: '',\n  };\n\n  componentDidMount() {\n    const { avatar, name, score } = this.props;\n    const avatarImg = `https://www.gravatar.com/avatar/${avatar}`;\n    this.setState({ name, score, avatar: avatarImg });\n  }\n\n  handleClick = ({ target: { name } }) => {\n    addRanking(this.state);\n    const { history, dispatch } = this.props;\n    history.push(name);\n    dispatch(clearScore());\n  };\n\n  render() {\n    const { assertions, score, history } = this.props;\n    const { avatar } = this.state;\n    const THREE = 3;\n    return (\n      <MainFeedback data-testid=\"feedback-text\">\n        <Header history={ history } />\n        <LogoStyle className=\"logo-feedback\" />\n        <AvatarStyle src={ avatar } alt=\"avatar\" />\n        <ContainerBox>\n          <h2\n            data-testid=\"feedback-text\"\n            className={ assertions >= THREE ? 'green' : 'red' }\n          >\n            { assertions >= THREE ? 'Well Done!' : 'Could be better...' }\n          </h2>\n          <strong data-testid=\"feedback-total-question\">{ assertions }</strong>\n          <span data-testid=\"feedback-total-score\">{ score }</span>\n        </ContainerBox>\n        <ContainerButton>\n          <ButtonStyle\n            className=\"btn-ranking\"\n            type=\"button\"\n            onClick={ this.handleClick }\n            data-testid=\"btn-ranking\"\n            name=\"/ranking\"\n          >\n            Ranking\n          </ButtonStyle>\n          <ButtonStyle\n            type=\"button\"\n            onClick={ this.handleClick }\n            data-testid=\"btn-play-again\"\n            name=\"/\"\n          >\n            Play Again\n          </ButtonStyle>\n        </ContainerButton>\n        <FooterFeedback />\n      </MainFeedback>\n    );\n  }\n}\n\nFeedback.propTypes = {\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n  assertions: PropTypes.number.isRequired,\n  score: PropTypes.number.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  avatar: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  assertions: state.player.assertions,\n  score: state.player.score,\n  avatar: state.player.gravatarEmail,\n  name: state.player.name,\n});\n\nexport default connect(mapStateToProps)(Feedback);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}